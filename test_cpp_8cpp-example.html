<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>nec2++: test_cpp.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nec2++
   &#160;<span id="projectnumber">1.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">test_cpp.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">  An example of how to use nec2++ from within a C++ program.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  See the makefile target &#39;test_cpp&#39; for how to compile this</span></div>
<div class="line"><span class="comment">  (as well as the nec2++) source code.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">  Copyright (C) 2005,2015  Timothy C.A. Molteno (tim@molteno.net)</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><span class="comment">  the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><span class="comment">  (at your option) any later version.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">  GNU General Public License for more details.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><span class="comment">  along with this program; if not, write to the Free Software</span></div>
<div class="line"><span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="c__geometry_8h.html">c_geometry.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="nec__context_8h.html">nec_context.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;nec_exception.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;nec_radiation_pattern.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  <span class="keywordflow">try</span> {</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Nec2++ C++ example. Running (takes a few minutes...)&quot;</span> &lt;&lt; endl;</div>
<div class="line">    </div>
<div class="line">    <a name="_a0"></a><a class="code" href="classnec__context.html">nec_context</a> nec;</div>
<div class="line">    nec.<a name="a1"></a><a class="code" href="classnec__context.html#a76cd515fd9bcca374e635947ca2c754d">initialize</a>();</div>
<div class="line">    </div>
<div class="line">    <a name="_a2"></a><a class="code" href="classc__geometry.html">c_geometry</a>* geo = nec.<a name="a3"></a>get_geometry();</div>
<div class="line">    geo-&gt;<a name="a4"></a><a class="code" href="classc__geometry.html#a69094733aa436d3ebdee972a9d795eb7">wire</a>(0, 70, -0.048, 0.021, -0.005, 0.035, 0.043, 0.014, 0.001, 1.0, 1.0);</div>
<div class="line">    geo-&gt;<a class="code" href="classc__geometry.html#a69094733aa436d3ebdee972a9d795eb7">wire</a>(0, 66, 0.017, -0.015, 0.014, -0.027, 0.04, -0.031, 0.001, 1.0, 1.0);</div>
<div class="line">    geo-&gt;<a class="code" href="classc__geometry.html#a69094733aa436d3ebdee972a9d795eb7">wire</a>(0, 47, 0.046, -0.01, 0.028, -0.013, -0.005, 0.031, 0.001, 1.0, 1.0);</div>
<div class="line">    geo-&gt;<a class="code" href="classc__geometry.html#a69094733aa436d3ebdee972a9d795eb7">wire</a>(0, 77, -0.048, -0.038, -0.04, 0.049, -0.045, -0.04, 0.001, 1.0, 1.0);</div>
<div class="line">    nec.<a name="a5"></a><a class="code" href="classnec__context.html#ac99c8a76e2087387a195692aebb7182c">geometry_complete</a>(0,0);</div>
<div class="line">    </div>
<div class="line">    nec.<a name="a6"></a><a class="code" href="classnec__context.html#a124bb06c25d9aa47305ae75b53becb59">gn_card</a>(-1,0,0.0, 0.0, 0.0,0.0, 0.0, 0.0);</div>
<div class="line">    nec.<a name="a7"></a><a class="code" href="classnec__context.html#a8e3690b43a90a9b947ffda3727732017">ld_card</a>(5,0,0,0,3.72e7,0.0,0.0);</div>
<div class="line">    nec.<a name="a8"></a><a class="code" href="classnec__context.html#a4e88e938d7f527c287a69c413fe33a3c">pt_card</a>(-1, 0, 0, 0);</div>
<div class="line">    nec.<a name="a9"></a><a class="code" href="classnec__context.html#ae3bc2cfa92d14dfa02028ca88fbfad19">ex_card</a>(EXCITATION_LINEAR, 1, 1, 0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);</div>
<div class="line">    nec.<a name="a10"></a><a class="code" href="classnec__context.html#a34eee1efd79d8658470fcd400faa1d75">fr_card</a>(0, 2, 2400.0, 100.0);</div>
<div class="line">    nec.<a name="a11"></a><a class="code" href="classnec__context.html#a3824916fca4ec09417908a807478df94">rp_card</a>(0, 10, 10, 0,5,0,0, 0.0, 0.0, 9.0, 9.0, 0.0, 0.0);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// now get the radiation pattern data. The result index is 0 since</span></div>
<div class="line">    <span class="comment">// this is the first (and only) radiation pattern.</span></div>
<div class="line">    <a name="_a12"></a><a class="code" href="classnec__radiation__pattern.html">nec_radiation_pattern</a>* rp = nec.<a name="a13"></a><a class="code" href="classnec__context.html#a68e997c457e5cd0bb95fe0d0e5302469">get_radiation_pattern</a>(0);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">int</span> nth = rp-&gt;<a name="a14"></a><a class="code" href="classnec__radiation__pattern.html#a828a3eba718b6ee86d4d7adf0c4317e1">get_ntheta</a>();</div>
<div class="line">    <span class="keywordtype">int</span> nph = rp-&gt;<a name="a15"></a><a class="code" href="classnec__radiation__pattern.html#a0da51312e7aad58c61241adb58e4a737">get_nphi</a>();</div>
<div class="line">    </div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Theta \tPhi \tHorizontal \tVertical \tTotal&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;nph; j++) {</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nth; i++) {</div>
<div class="line">        cout</div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a16"></a><a class="code" href="classnec__radiation__pattern.html#a3c7a83cc5399fc568b3562dc45a3fe71">get_theta</a>(i) &lt;&lt; <span class="stringliteral">&quot;  \t&quot;</span> </div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a17"></a><a class="code" href="classnec__radiation__pattern.html#a0e65625211309ad8d7baa3a4ca719bdd">get_phi</a>(j) &lt;&lt; <span class="stringliteral">&quot;  \t&quot;</span> </div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a18"></a><a class="code" href="classnec__radiation__pattern.html#ac2fc7144c897c4fb7a56e679fc7527ba">get_power_gain_horiz</a>(i,j) &lt;&lt; <span class="stringliteral">&quot;  \t&quot;</span> </div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a19"></a><a class="code" href="classnec__radiation__pattern.html#a3c90a1e20a797ebd85fb9bb46372294a">get_power_gain_vert</a>(i,j) &lt;&lt; <span class="stringliteral">&quot;  \t&quot;</span> </div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a20"></a><a class="code" href="classnec__radiation__pattern.html#abdd0ec7a2d08cbcbf65d9099d31b216e">get_power_gain</a>(i,j) &lt;&lt; <span class="stringliteral">&quot;  \t&quot;</span></div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a21"></a><a class="code" href="classnec__radiation__pattern.html#af86138fe50d988dd538937d8a80d1e34">get_etheta_magnitude</a>(i,j) &lt;&lt; <span class="stringliteral">&quot;  \t&quot;</span></div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a22"></a><a class="code" href="classnec__radiation__pattern.html#a4b5f3d43010d36dbce4de1bc17135edd">get_etheta_phase</a>(i,j) &lt;&lt; <span class="stringliteral">&quot;  \t&quot;</span></div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a23"></a><a class="code" href="classnec__radiation__pattern.html#af380c9aa4c14b72365bfdcba02a0b620">get_ephi_magnitude</a>(i,j) &lt;&lt; <span class="stringliteral">&quot;  \t&quot;</span></div>
<div class="line">          &lt;&lt; rp-&gt;<a name="a24"></a><a class="code" href="classnec__radiation__pattern.html#a58109b886c7d35125d46cec9252df615">get_ephi_phase</a>(i,j)</div>
<div class="line">          &lt;&lt; endl;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">catch</span> (<a name="_a25"></a><a class="code" href="classnec__exception.html">nec_exception</a>* e) {</div>
<div class="line">    cout &lt;&lt; e-&gt;<a name="a26"></a>get_message() &lt;&lt; endl;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 4 2015 11:25:01 for nec2++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
